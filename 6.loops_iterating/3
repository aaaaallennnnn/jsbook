counter is being reset to 1 at the start of each loop